import 'package:audioplayers/audioplayers.dart';
import 'package:flutter/material.dart';
import 'package:nyan_cat_war/src/screens/search.dart';

class LegendImagePage extends StatelessWidget {
  final String prefectureName;
  final AudioPlayer legendBgm;

  LegendImagePage({Key? key, required this.prefectureName,required this.legendBgm}) : super(key: key);

  final Map<String, Map<String, List<String>>> prefectureImages = {
    "伝説のはじまり": { //マップの名前
      "1大地を揺るがす": ["000", "001", "002"], //ステージ名と整数の部分は画像のデータ
      "2あの恐怖、再び": ["002", "047"],
      "3おつかれサンセット": ["000", "001", "002", "013"],
      "4メランコリー湿地": ["002", "007", "048"],
      "5ぷるるん広場": ["000", "001", "002", "005"],
      "6愛情のまなざし": ["000", "001", "002", "006"],
      "7牧場の守護者": ["000", "001", "002", "009"],
      "8眠れる獅子": ["000", "001", "002", "003", "006", "015", "046"],
    },
    "情熱の国": {
      "1ニャンダルシア": ["000", "001", "002", "047"],
      "2パエリア草原": ["000", "001", "002", "006"],
      "3フラメン抗": ["000", "001", "002", "022", "046"],
      "4サングリア川": ["000", "001", "002", "007", "047", "048"],
      "5ガスパチョ高原": ["000", "001", "002", "004", "008"],
      "6チュロス・ナイト": ["000", "001", "002", "003", "005", "010", "015"],
      "7乾いた庭園": ["000", "001", "002", "046"],
      "8タパス砂漠": ["000", "001", "002", "013", "031"],
    },
    "グルコサミン砂漠": {
      "1コンドロイチン砂丘": ["000", "001", "002", "003", "004", "005"],
      "2セサ民遺跡": ["000", "001", "002", "048"],
      "3イソフラボン洞窟": ["002", "006", "007", "042", "046"],
      "4カテキン丘陵": ["000", "001", "002", "004", "006", "007", "014"],
      "5リコピンの夕焼け": ["000", "001", "002", "003", "005", "006", "007", "009"],
      "6プロポリスオアシス": ["001", "002", "005", "031", "042"],
      "7ペプチド雪原": ["002", "004", "008", "047"],
      "8ヒアルロン山": ["015", "041", "046"]
    },
    "ネコども海を渡る": {
      "1無茶ぶり進水式": ["000", "001", "002", "003", "015", "031"],
      "2ユーザン海原": ["008", "013", "042"],
      "3人魚の入り江": ["000", "001", "002", "006", "007", "008", "009", "013"],
      "4カオスラグーン": ["000", "002", "013", "036", "046", "047", "048"],
      "5なんちゃって海賊": ["000", "001", "002", "004", "011", "014", "015"],
      "6ホコタテ漁場": ["000", "001", "002", "006", "008", "031", "041"],
      "7テングサ島": ["000", "001", "002", "012", "014", "046"],
      "8海の水は塩辛い": ["039", "042", "046"]
    },
    "見つめてキャッツアイ": {
      "1ぽろり鉱石": ["001", "002", "006", "013", "031", "041"],
      "2セクシー鍾乳洞": ["000", "001", "002", "031", "036"],
      "3ドキドキ穴": ["000", "001", "002", "005", "039", "042", "048"],
      "4ぷりぷりくぼみ": ["000", "001", "002", "036", "041"],
      "5フタこぶ岩": ["000", "015", "017", "018", "022", "046"],
      "6スリルの代償": ["002", "031", "033", "039", "042"]
    },
    "ウエスタン街道": {
      "1ガンマンの黄昏": ["000", "001", "004", "005", "022", "042"],
      "2カウボーイ天国": ["015", "036", "048"],
      "3お尋ね者の夜": ["002", "015", "017", "046"],
      "4マカロニタウン": ["000", "001", "006", "007", "047"],
      "5さすらいの口笛": ["000", "001", "003", "005", "009"],
      "6がっかり用心棒": ["011", "031"],
      "7テンガロン山": ["000", "001", "041", "042"],
      "8ロデオナイト": ["002", "004", "011", "049"]
    },
      "マグロ海域": {
      "1ベニマグロ海岸": ["000", "001", "023", "046"],
      "2ピチピチ漁場": ["002", "003", "031"],
      "3ぷらっとオーシャン": ["010", "033"],
      "4カルパッチョ沖": ["001", "002", "003", "006", "038"],
      "5排他的経済水域": ["041", "047"],
      "6最終兵器トロ": ["000", "001", "002", "005", "039", "046"],
      "7冷凍マグロ戦線": ["002", "031", "036", "041", "042", "046", "047", "048"],
      "8解体ショー洞窟": ["002", "004", "011", "023", "024"],
    },
    "バンブー島": {
      "1チクチク高原": ["001", "002", "003", "006", "038"],
      "2タケノコ海岸": ["008", "011", "013", "031"],
      "3殺人鬼ジャングル": ["000", "001", "002", "033"],
      "4げろげろ沼": ["000", "001", "002", "036", "047", "052"],
      "5もっさり坑道": ["000", "001", "002", "006", "039", "046"],
      "6星くず街道": ["000", "001", "002", "038", "042"],
      "7キノコ崖": ["015", "041", "046"],
      "8暁フロンティア": ["000", "001", "002", "015", "040"],
    },
    "ぷにぷに鍾乳洞": {
      "1ミルキートンネル": ["046", "051", "052"],
      "2ふわふわ暗黒兵器": ["000", "017", "046"],
      "3悪魔の壁画": ["015", "022", "049"],
      "4隙間風のささやき": ["000", "001", "002", "007", "037", "051"],
      "5甘えんぼ暗殺者": ["000", "001", "002", "031"],
      "6うろたえる岩": ["000", "001", "002", "003", "008", "013", "022"],
      "7雨漏り洞窟": ["015", "046", "051", "052"],
      "8ぽっちゃり性善説": ["002", "003", "005", "007", "015", "016", "033", "035", "047"],
    },
    "ボルケーノ火山": {
      "1半身浴岩": ["003", "004", "005", "035"],
      "2ほっこり間欠泉": ["022", "049"],
      "3とろーりマグマ": ["033", "036", "037", "040"],
      "4炎の檻": ["005", "008", "014", "038"],
      "5火口を守る者": ["017", "024"],
      "6メラメラカルデラ": ["000", "001", "002", "014", "034", "046"],
    },
    "千里の道": {
      "1ポテンシャルロード": ["000", "001", "002", "047"],
      "2憂愁の木": ["000", "001", "002", "006"],
      "3そよかぜの歌声": ["000", "001", "002", "022", "046"],
      "4哲学の道": ["000", "001", "002", "007", "047", "048"],
      "5境界線の晩鐘": ["000", "001", "002", "004", "008"],
      "6流した涙の川": ["000", "001", "002", "003", "005", "010", "015"],
      "7輝く道": ["000", "001", "002", "046"],
      "8試練の谷底": ["000", "001", "002", "013", "031"],
    },
    "アオ・ザ・カナ": {
      "1磯のささやき": ["000", "001", "002", "003", "004", "005"],
      "2サザナミ・アイランド": ["000", "001", "002", "048"],
      "3ダークオクトパスの海": ["002", "006", "007", "042", "046"],
      "4ポセイドンのこしかけ": ["000", "001", "002", "004", "006", "007", "014"],
      "5月明かりのビーチ": ["000", "001", "002", "003", "005", "006", "007", "009"],
      "6コーラルサンゴ礁": ["001", "002", "005", "031", "042"],
      "7月の箱舟": ["002", "004", "008", "047"],
      "8殺戮兵器シラ・ス": ["015", "041", "046"],
    },
    "軍艦島": {
      "1ネギトロ平野": ["000", "001", "002", "003", "015", "031"],
      "2カニミソ草原": ["008", "013", "042"],
      "3イクラ岩窟": ["000", "001", "002", "006", "007", "008", "009", "013"],
      "4ウニ街道": ["000", "002", "013", "036", "046", "047", "048"],
      "5トビコ原生林": ["000", "001", "002", "004", "011", "014", "015"],
      "6納豆海岸": ["000", "001", "002", "006", "008", "031", "041"],
      "7エンガワの森": ["000", "001", "002", "012", "014", "046"],
      "8アマエビフロンティア": ["015", "046", "053"],
    },
    "つめとぎの廊下": {
      "1ダンボール回廊": ["001", "002", "006", "013", "031", "041"],
      "2マタタビの夢": ["000", "001", "002", "031", "036"],
      "3ガリガリウォール": ["000", "001", "002", "005", "039", "042", "048"],
      "4木くずを掻き分けて": ["000", "001", "002", "036", "041"],
      "5バリバリ柱": ["000", "015", "017", "018", "022", "046"],
      "6乱暴者の番人": ["002", "031", "033", "039", "042"],
    },
    "パルテノン神殿": {
      "1ゼウスの祭壇": ["000", "001", "004", "005", "022", "042"],
      "2アキレスの剣": ["015", "036", "048"],
      "3エロスの街道": ["002", "015", "017", "046"],
      "4ガイアの夜明け": ["000", "001", "006", "007", "056"],
      "5アフロディテの門": ["000", "001", "003", "005", "009"],
      "6ハデスの迷宮": ["010", "034", "046", "050"]
    },
    "ずんどこ海水浴場": {
      "1潮干狩りの浜": ["000", "001", "004", "005", "022", "042"],
      "2ムツゴロウパーク": ["002", "003", "010", "038", "049", "050", "052"],
      "3水着美女の面影": ["002", "015", "017", "031", "040", "046", "051"],
      "4イモ洗いプール": ["000", "001", "002", "006", "007", "009", "015", "033"],
      "5ビーチパラソル畑": ["000", "001", "003", "005", "012", "046"],
      "6いにしえのビキニ": ["008", "038", "039", "053"],
      "7カラフルカクテル": ["000", "001", "041", "042"],
      "8星降る大海": ["000", "002", "043", "046"]
    },
    "アルカトラズ島": {
      "1カモメ海岸": ["001", "002", "003", "006", "038"],
      "2ペリカン島": ["013", "031", "033", "036", "042"],
      "3地下制御室": ["009", "015", "037"],
      "4悪党の密林": ["000", "001", "002", "015", "032", "033", "036"],
      "5バラバラチキンレース": ["000", "001", "005", "018", "022", "040"],
      "6ねこ裁判": ["000", "001", "002", "011", "035"],
      "7監獄草原": ["015", "043", "046", "052"],
      "8看守と墓守": ["000", "001", "002", "015", "033", "041", "042", "044"]
    },
    "脱獄トンネル": {
      "1茶罪～ギル・ティ～": ["015", "022", "032"],
      "2実刑判決": ["000", "014", "017", "046"],
      "3ハリートンネル": ["000", "001", "007", "034", "036", "037", "051"],
      "4夜のしじま": ["008", "015", "043", "047", "059"],
      "5落とし穴地帯": ["016", "018", "039", "053"],
      "6大脱走": ["002", "015", "016", "032", "038", "045", "052"]
    },
    "カポネの監獄": {
      "1脱獄日誌": ["015", "033", "043", "050", "051", "052", "113"],
      "2ラスト・ギャング": ["000", "016", "023", "046"],
      "3プリズン・破": ["037", "038", "047", "051", "052", "056"],
      "4シャバの王者": ["031", "035", "046", "114"],
      "5嘘つきの末路": ["000", "001", "002", "007", "009", "051", "114", "115"],
      "6豚小屋のタブー": ["000", "001", "003", "010", "044", "052"]
    },
    "シルクロード": {
      "1ガンダーラ休憩所": ["001", "017", "039", "118"],
      "2ユートピアはあちら": ["003", "047", "054", "059", "113"],
      "3ゴダイゴ峠": ["002", "018", "044", "052"],
      "4モンキーマジック": ["000", "023", "051", "053", "117"],
      "5異国の門": ["015", "031", "037"],
      "6マルコ・ポーロード": ["000", "024", "046", "114"],
      "7豚の残飯": ["034", "038", "117", "118"],
      "8河童の冷や汗": ["002", "114", "115", "118", "119"]
    },
    "闇へと続く地下道": {
      "1転ばぬ先の杖": ["001", "015", "022", "032", "123"],
      "2暗い・狭い・怖い道": ["018", "043", "046", "051", "117", "124"],
      "3レッド・アラート": ["008", "011", "014", "017", "023", "048", "118"],
      "4人生の落とし穴": ["015", "038", "119"],
      "5かすかな晩鐘": ["002", "011", "041", "042", "047", "114", "123", "124", "125"],
      "6アンダーワールド": ["015", "024", "049", "050", "052", "113", "114", "118"]
    },
    "魔王の豪邸": {
      "1セレブな玄関": ["012", "015", "039", "042", "146"],
      "2バスルーム": ["031", "032", "146"],
      "3オシャレVIPルーム": ["000", "041", "042", "044", "046", "114", "147"],
      "4拷問部屋": ["016", "017"],
      "5独裁者の庭": ["012", "023", "034", "035", "040", "117", "123", "124", "125"],
      "6魔王の寝室": ["017", "018", "031", "038", "050", "053", "124", "146", "147"]
    },
    "終わりを告げる夜": {
      "1裏切りの宴": ["043", "117", "147"],
      "2終焉のカタルシス": ["002", "023", "146"],
      "3黒い予感": ["046", "050", "051", "052", "124", "149"],
      "4砕けた仮面": ["113", "114", "115", "119", "125"],
      "5アガペーの檻": ["018", "034", "044", "123"],
      "6赤いきつねの聖者": ["017", "024", "113", "117", "146", "147", "148", "149"]
    },
    "バトルロワイアル": {
      "1ロイヤル・ミル・クティ": ["000", "001", "002", "014", "034", "046", "114", "160"],
      "2怒りと闘争心": ["008", "037", "118", "149"],
      "3忍び寄る戦慄の詩": ["007", "011", "015", "047", "056", "113", "125"],
      "4卑怯者の罠": ["013", "035", "036", "040"],
      "5闇より生まれし宿敵": ["011", "049", "053", "117", "146"],
      "6魚介類と血のにおい": ["005", "010", "038", "039", "050", "115", "160"]
    },
    "戦争のつめあと": {
      "1ワルキューレ平原": ["000", "046", "114", "147", "167"],
      "2ぶっとび地雷原": ["001", "002", "013", "031", "146", "160", "169", "173"],
      "3クーゲルシュライバー": ["016", "032", "039", "044"],
      "4ぬかるみ塹壕": ["008", "035", "170"],
      "5スナイパージャングル": ["017", "022", "049", "123", "171"],
      "6斜陽のソルジャー": ["001", "002", "015", "016", "146", "167", "175"],
      "7父の背中": ["000", "051", "118", "119", "123", "146", "178"],
      "8境界線奪還作戦": ["002", "038", "146", "167", "177"]
    },
    "海を汚す悪しき者": {
      "1石油プラットフォーム": ["002", "009", "023", "049", "146", "205"],
      "2汗とアルデヒド": ["011", "056", "183"],
      "3いにしえの裁判": ["177", "180", "182", "184"],
      "4あやしい自治体": ["207"],
      "5ポイステ海岸": ["016", "117"],
      "6ベンゼン畑": ["015", "018", "038", "040"],
      "7政府の犬": ["042", "046", "114", "147", "167", "182", "184"],
      "8あまくだり海流": ["034", "205", "206", "207"]
    },
    "心と体、繋ぐもの": {
      "1夕焼けの咆哮": ["014", "206"],
      "2ゲシュタルト、崩壊": ["046", "051", "052", "124", "167", "168", "182"],
      "3戦士の黎明": ["002", "004", "006", "008", "010", "013", "014", "022", "024"],
      "4呪われた永久凍土": ["039", "210"],
      "5ねこの証": ["007", "170", "183", "208", "209"],
      "6愚者の絶望": ["205"],
      "7メタボリック症候群": ["167", "174", "180", "211"],
      "8愛と死": ["038", "118", "146", "235"]
    },
    "脆弱性と弱酸性": {
      "1せめてネコらしく": ["010", "040", "051", "052", "056", "114", "115", "178", "182"],
      "2円卓の騎士": ["017", "018", "058", "174"],
      "3おにゃんこカタルシス": ["023", "034", "053", "180", "206"],
      "4美しい終わり": ["037", "114", "119", "123", "172", "207", "255"],
      "5悪夢からの覚醒": ["000", "001", "002", "013", "015", "024", "049", "050", "211"],
      "6おぼえたての愛": ["002", "015", "016", "043", "046", "119", "146", "149", "207", "258"]
    },
    "導かれしネコ達": {
      "1新たなる戦い": ["017", "146", "174", "254"],
      "2ミステリーサークル": ["002", "037", "147", "171", "175", "183", "184", "208"],
      "3野鳥観察": ["032", "036"],
      "4言葉の端のトゲ": ["015", "117", "170", "209", "256"],
      "5ブラックウェーブ": ["033", "044", "051", "149", "206", "254", "255"]
    },
    "暗黒コスモポリス": {
      "1ハングリーフォレスト": ["006", "032", "040", "146", "210"],
      "2身の程知らずの巣": ["006", "037", "046", "049", "115", "124", "146", "160", "174"],
      "3通勤ラッシュ": ["008", "119", "205"],
      "4ドッキングジェノサイダー": ["046", "206", "211"],
      "5地下帝国からの刺客": ["123", "207", "235", "256"],
      "6暗黒街の支配者": ["000", "002", "003", "038", "113", "114", "125", "254", "261"]
    },
    "ガラ・パ・ゴス": {
      "1DNAとDHA": ["050", "149", "255", "256"],
      "2夕焼けの密猟者": ["016", "044"],
      "3遭難者の群れ": ["001", "002", "014", "031", "035", "118", "146", "207"],
      "4異星生態調査団": ["047", "054", "168", "169", "175", "180"],
      "5楽園のいきもの達": ["037", "046", "053", "114", "261"],
      "6環境保護団体": ["051", "118", "124", "205", "266"]
    },
    "岩海苔半島": {
      "1りんりん防風林": ["006", "051", "115", "147"],
      "2イベリコ平野": ["178", "208"],
      "3泣き砂海岸": ["022", "043", "256", "266"],
      "4ゴールデン街": ["002", "009", "010", "015", "034", "123", "146", "205"],
      "5鈍足ドライブウェイ": ["004", "037", "048", "149", "160"],
      "6武家屋敷お家騒動": ["000", "001", "002", "015", "024", "207", "210", "272"]
    },
    "恐ろし連邦": {
      "1クリムゾン広場": ["008", "041", "046", "051", "115", "185", "207"],
      "2インテリゲンチャ": ["010", "014", "049", "053", "125", "174", "182"],
      "3ポッポー領土": ["011", "016"],
      "4バトル海の決戦": ["000", "002", "009", "114"],
      "5宇宙開発局": ["000", "146", "176", "177", "266"],
      "6スパイより愛を込めて": ["022", "046", "118", "235", "254", "280"]
    },
    "亡者の住まう地": {
      "1死霊の館": ["046", "284"],
      "2いけにえ沼": ["039", "118", "285", "288"],
      "3ムール街の悪夢": ["114", "119", "206"],
      "4ポルターガイストリート": ["014", "024", "286", "287", "290", "292"],
      "5ホワイト・ライト・ナイト": ["006", "007", "015", "035", "043", "207"],
      "6猫たちの沈黙": ["051", "052", "284", "285", "289", "291", "292", "293"]
    },
     "絶島パンデミック": {
      "1感染者密航": ["018", "272", "288", "292"],
      "2ハイテク昆布漁": ["047", "054", "056", "059", "147"],
      "3先祖の行進": ["034", "284", "285", "286", "287", "289"],
      "4脱出を阻む者": ["002", "014", "015", "038", "180", "280"],
      "5怒りのマグロ戦線": ["002", "036", "041", "042", "046", "047", "048", "185"],
      "6感染、島の主": ["035", "304"]
    },
    "ふくろのねずみランド": {
      "1お出迎え入場門": ["023", "256", "289", "309"],
      "2無気力コースター": ["034", "044", "123", "178", "206", "255"],
      "3リアルVR地獄": ["051", "266", "284", "287", "291"],
      "4プラス50度の世界": ["207", "292", "310"],
      "5誘惑のチキンルーム": ["119", "146", "208", "261"],
      "6ボーンデッドアパートメント": ["103", "104", "105", "284", "289", "290", "293", "303"]
    },
    "ハリーウッド帝国": {
      "1パパラッチフィーバー": ["034", "309"],
      "2因縁ゴシップスター": ["272", "285", "288", "290"],
      "3バブリーヒルズ白書": ["000", "001", "002", "013", "015", "032", "256"],
      "4子役上がり": ["011", "146", "235", "291", "310"],
      "5セクシースキャンダル": ["054", "124", "185", "254", "293"],
      "6ウニバーサルスタジオ": ["002", "013", "284", "289", "290", "291", "292", "315", "316"]
    },
    "こしぎんちゃくの浜辺": {
      "1よたもの遊泳大会": ["168", "172", "173", "175", "208"],
      "2ヘアーサロン潮風": ["038", "177", "261"],
      "3ディープシー決死隊": ["011", "014", "049", "304"],
      "4ぺこぺこパレード": ["015", "032", "035"],
      "5大御所大博覧会": ["053", "255"],
      "6もう陸には帰れない": ["013", "031", "033", "040", "318"]
    },
    "雲泥温泉郷": {
      "1自家製電気風呂": ["047", "054", "056", "059", "147", "266"],
      "2熱湯風呂我慢大会": ["004", "049", "118", "185", "205", "206"],
      "3ケミカル長寿の湯": ["002", "117", "210"],
      "4垢い敵、黒い汗": ["046", "051", "053", "124", "146", "256", "280"],
      "5源泉に潜む者達": ["002", "235", "318"],
      "6湯けむり極楽地獄": ["010", "013", "034", "114", "206", "340"]
    },
    "風待ちアイランド": {
      "1むっちり隠れ港": ["008", "170", "176", "290"],
      "2ロマンスグレーハイウェイ": ["016", "207", "318"],
      "3泥酔マッサージャー": ["014", "205", "340"],
      "4豚箱恋愛沼": ["000", "001", "003", "010", "044", "291"],
      "5フェロモン門": ["146"],
      "6天空秘宝の館": ["123", "207", "254", "272", "315"]
    },
    "ITカタコンベ": {
      "1キリバンの番人": ["001", "013", "015", "032", "266"],
      "2ダイヤルアップ回廊": ["115", "285", "289", "340"],
      "3テレホー台座": ["207"],
      "4Mrs.ドスの墓": ["024", "050", "185"],
      "5聖人ブラクラの遺骨": ["046", "114", "261", "280"],
      "6怨叫カプラ": ["018", "117", "206", "355"]
    },
    "変覧会の絵": {
      "1ヘタうまキュビズム": ["000", "001", "002", "014", "015", "207"],
      "2癒し系地獄絵図": ["016", "315"],
      "3和尚のスケベな水墨画": ["115", "116", "119", "125"],
      "4一筆三億五千万円": ["011", "118", "285", "355"],
      "5ヤンキー宗教画": ["024", "058", "117"],
      "6館長の自画像": ["015", "125", "206", "211", "261", "280"]
    },
    "エリア22": {
      "1ローズウェイ事件": ["147", "360"],
      "2キャットミューティレーション": ["034", "361"],
      "3マダムスキー型UFO": ["292", "310", "363"],
      "4チュパチュパカブラ遭遇": ["318", "360", "364"],
      "5グースカツンツン大爆発": ["272", "361", "366"],
      "6あなた疲れてるのよ": ["360", "362", "375"]
    },
    "超越サバンナ": {
      "1弱肉朝食": ["043", "114", "254", "365"],
      "2霊峰ニクマンジャロ": ["285", "366"],
      "3原始の強敵、再び": ["000", "001", "002", "003"],
      "4ウキウキ乾季": ["039", "183", "360", "364"],
      "5エレクトロサファリパーク": ["360", "361", "362", "363", "364", "365", "366"],
      "6天国に一番近い水飲み場": ["032", "046", "051", "114", "115", "379"]
    },
    "ブリザード自動車道": {
      "1あかぎれジャンクション": ["114", "146", "235", "379"],
      "2ダダ洩れ海底トンネル": ["046", "256", "355", "364"],
      "3しもやけパーキングエリア": ["038", "285", "287", "292"],
      "4ぬくもり対向車線": ["018", "207", "340"],
      "5眠眠交通警備隊": ["362", "363"],
      "6料金所ヒートショック": ["040", "387"]
    },
    "シンギュラリティ村": {
      "1ユビキタス販売所": ["177", "362", "364"],
      "2VR稲刈り場": ["011", "118", "149", "256", "387"],
      "3ウェアラブル一軒家": ["002", "049", "146", "207", "388"],
      "48K肥溜め": ["032", "046", "051", "053", "124"],
      "5夕焼けブロックチェーン": ["022", "059", "147"],
      "6ゲノム盆踊り": ["004", "023", "114", "115", "160", "205", "388"]
    },
    "オワーリ大陸": {
      "1最果ての祠": ["031", "041", "146"],
      "2終末の谷": ["039", "046", "049", "124"],
      "3ファイナルタワー": ["053", "056", "059", "147"],
      "4ラストラビリンス": ["032", "036", "037", "123", "207"],
      "5終焉の洞窟": ["044", "117", "119"],
      "6フィナーレ神殿": ["040", "206"]
    },
    "伝説のおわり": {
      "1決断の時": ["035", "114", "205"],
      "2復讐の準備": ["185", "256", "280", "387"],
      "3栄光のグローリー": ["304", "309", "310"],
      "4命のせせらぎ": ["119", "254", "261", "340", "379"],
      "5復活の偽呪文": ["016", "235", "266", "272", "315", "318", "355"],
      "6契約の杯": ["123", "255", "375", "388"],
      "7風そよぐ黄昏時": ["017", "024", "031", "032", "034", "035", "038", "053", "056", "261"],
      "8破られた誓い": ["000", "046", "114", "147", "167", "284", "360"]
    },
    "古代研究所": {
      "1太古の力": ["000", "001", "002", "013", "046", "114", "118", "272", "405"]
    },
  };

  final PageController _pageController = PageController(viewportFraction: 0.8);

  void _showLoadingDialog(BuildContext context) {
    showDialog(
      context: context,
      barrierDismissible: false,
      builder: (BuildContext context) {
        return Center(
          child: Container(
            width: 100,
            height: 100,
            decoration: BoxDecoration(
              color: Colors.white,
              borderRadius: BorderRadius.circular(10),
            ),
            padding: const EdgeInsets.all(10),
            child: Image.asset('assets/nyanma.gif'),
          ),
        );
      },
    );
  }

  void _navigateToSearchPage(BuildContext context, String stageName, dynamic bgmData) async {
    _showLoadingDialog(context);
    // Simulate a delay or perform an async task before navigation
    await Future.delayed(const Duration(seconds: 2));

    // Dismiss the loading dialog
    Navigator.of(context).pop();

    // Navigate to the next page
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => SearchPage(name: stageName, bgmData: bgmData),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        backgroundColor: Colors.amber,
        // actions: [
        //   IconButton(
        //     onPressed: () => _showChapterDialog(),
        //     icon: const Icon(Icons.menu),
        //   ),
        // ],
        title: Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            const Text('旧レジェンドステージ'),
            const SizedBox(width: 8.0),  // テキストと画像の間にスペースを追加
            Flexible(child: Image.network('https://i.pinimg.com/originals/fa/f1/c9/faf1c9c66bf0bd67a87f0a181ea21122.png', height: 50.0, width: 50.0)),
          ],
        ),
      ),
      body: PageView.builder(
        controller: _pageController,
        itemCount: prefectureImages[prefectureName]!.length,
        itemBuilder: (context, index) {
          var stageName = prefectureImages[prefectureName]!.keys.elementAt(index);
          var imageNames = prefectureImages[prefectureName]![stageName]!;
          return Card(
            margin: const EdgeInsets.symmetric(horizontal: 10.0, vertical: 20.0),
            child: Container(
              padding: const EdgeInsets.all(20.0),
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  ElevatedButton(
                    onPressed: () {
                      _navigateToSearchPage(context, stageName, legendBgm);
                    },
                    child: const Text("攻略動画を見る"),
                  ),
                  Text(
                    stageName,
                    style: const TextStyle(fontSize: 24.0),
                  ),
                  const SizedBox(height: 10),
                  ...imageNames.map((imageName) => Image.network("https://b-cats.info/storage/enemy_icon/enemy_icon_$imageName.png")).toList(),
                ],
              ),
            ),
          );
        },
      ),
    );
  }
}